import"../chunks/DsnmJJEf.js";import{I as ct,p as X,B as A,m,C as ft,J as ut,K as z,v as S,n as b,M as Y,f as M,d as W,j as B,r as q,s as D,t as tt,N as P,b as $,c as et,F as Z,a as T,O as dt,P as pt,Q as mt}from"../chunks/CtnLPeUy.js";import{r as vt,l as ht,b as J,c as gt,a as _t,t as N,e as yt,d as xt,f as bt,g as R,i as $t,j as wt,k as kt,h as Et,M as St,D as Ct}from"../chunks/BIkyvSEo.js";import{i as rt}from"../chunks/DFETim4E.js";import{p as Q,s as st,i as U,g as nt,e as jt,h as Mt}from"../chunks/Dz5zFa31.js";function ot(e){return e}function Ot(e){const r=e-1;return r*r*r+1}function At(e,{from:r,to:s},p={}){var{delay:l=0,duration:t=E=>Math.sqrt(E)*120,easing:n=Ot}=p,a=getComputedStyle(e),i=a.transform==="none"?"":a.transform,[v,c]=a.transformOrigin.split(" ").map(parseFloat);v/=e.clientWidth,c/=e.clientHeight;var f=zt(e),u=e.clientWidth/s.width/f,_=e.clientHeight/s.height/f,y=r.left+r.width*v,x=r.top+r.height*c,w=s.left+s.width*v,k=s.top+s.height*c,O=(y-w)*u,g=(x-k)*_,I=r.width/s.width,C=r.height/s.height;return{delay:l,duration:typeof t=="function"?t(Math.sqrt(O*O+g*g)):t,easing:n,css:(E,j)=>{var F=j*O,H=j*g,L=E+j*I,K=E+j*C;return`transform: ${i} translate(${F}px, ${H}px) scale(${L}, ${K});`}}}function zt(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var r=e,s=1;r!==null;)s*=+getComputedStyle(r).zoom,r=r.parentElement;return s}function V(e){return Object.prototype.toString.call(e)==="[object Date]"}function G(e,r){if(e===r||e!==e)return()=>e;const s=typeof e;if(s!==typeof r||Array.isArray(e)!==Array.isArray(r))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const p=r.map((l,t)=>G(e[t],l));return l=>p.map(t=>t(l))}if(s==="object"){if(!e||!r)throw new Error("Object cannot be null");if(V(e)&&V(r)){const t=e.getTime(),a=r.getTime()-t;return i=>new Date(t+i*a)}const p=Object.keys(r),l={};return p.forEach(t=>{l[t]=G(e[t],r[t])}),t=>{const n={};return p.forEach(a=>{n[a]=l[a](t)}),n}}if(s==="number"){const p=r-e;return l=>e+l*p}return()=>r}function Bt(e,r={}){const s=ct(e);let p,l=e;function t(n,a){if(l=n,e==null)return s.set(e=n),Promise.resolve();let i=p,v=!1,{delay:c=0,duration:f=400,easing:u=ot,interpolate:_=G}={...r,...a};if(f===0)return i&&(i.abort(),i=null),s.set(e=l),Promise.resolve();const y=vt.now()+c;let x;return p=ht(w=>{if(w<y)return!0;v||(x=_(e,n),typeof f=="function"&&(f=f(e,n)),v=!0),i&&(i.abort(),i=null);const k=w-y;return k>f?(s.set(e=n),!1):(s.set(e=x(u(k/f))),!0)}),p.promise}return{set:t,update:(n,a)=>t(n(l,e),a),subscribe:s.subscribe}}var Dt=M('<div class="_toastBtn pe svelte-1irx82o" role="button" tabindex="0"></div>'),Tt=M('<div role="status"><div><!></div> <!> <progress class="_toastBar svelte-1irx82o"></progress></div>');function It(e,r){X(r,!1);const s=()=>st(u,"$progress",p),[p,l]=nt();let t=Q(r,"item",12),n=A(t().initial),a=A(m(n)),i=A(!1),v=A({}),c,f;const u=Bt(t().initial,{duration:t().duration,easing:ot});function _(o){o&&(f=o),N.pop(t().id)}function y(){(s()===1||s()===0)&&_()}function x(){!m(i)&&s()!==m(n)&&(u.set(s(),{duration:0}),S(i,!0))}function w(){if(m(i)){const o=t().duration,d=o-o*((s()-m(a))/(m(n)-m(a)));u.set(m(n),{duration:d}).then(y),S(i,!1)}}function k(o,d="undefined"){return typeof o===d}function O(o=document){if(k(o.hidden))return;const d=()=>o.hidden?x():w(),h="visibilitychange";o.addEventListener(h,d),c=()=>o.removeEventListener(h,d),d()}ft(O),ut(()=>{t().onpop&&t().onpop(t().id,{event:f}),c&&c()}),z(()=>(m(n),b(t()),s()),()=>{m(n)!==t().next&&(S(n,t().next),S(a,s()),S(i,!1),u.set(m(n)).then(y))}),z(()=>b(t()),()=>{if(t().component){const{props:o={},sendIdTo:d}=t().component;S(v,{...o,...d&&{[d]:t().id}})}}),z(()=>b(t()),()=>{k(t().progress)||t(t().next=t().progress,!0)}),Y(),rt();var g=Tt();let I;var C=W(g);let E;var j=W(C);{var F=o=>{var d=Z(),h=T(d);jt(h,()=>t().component.src,(it,lt)=>{lt(it,Mt(()=>m(v)))}),$(o,d)},H=o=>{var d=Z(),h=T(d);_t(h,()=>(b(t()),B(()=>t().msg))),$(o,d)};U(j,o=>{b(t()),B(()=>t().component)?o(F):o(H,!1)})}q(C);var L=D(C,2);{var K=o=>{var d=Dt();P("click",d,h=>_(h)),P("keydown",d,h=>{h instanceof KeyboardEvent&&["Enter"," "].includes(h.key)&&_(h)}),$(o,d)};U(L,o=>{b(t()),B(()=>t().dismissable)&&o(K)})}var at=D(L,2);q(g),tt(()=>{I=J(g,1,"_toastItem svelte-1irx82o",null,I,{pe:t().pausable}),E=J(C,1,"_toastMsg svelte-1irx82o",null,E,{pe:t().component}),gt(at,s())}),P("mouseenter",g,()=>{t().pausable&&x()}),P("mouseleave",g,w),$(e,g),et(),l()}var Lt=M("<li><!></li>"),Pt=M('<ul class="_toastContainer svelte-1dwp7pi"></ul>');function qt(e,r){X(r,!1);const s=()=>st(N,"$toast",p),[p,l]=nt();let t=Q(r,"options",24,()=>({})),n=Q(r,"target",8,"default"),a=A([]);function i(c){return c?Object.keys(c).reduce((f,u)=>`${f}${u}:${c[u]};`,""):void 0}z(()=>(b(n()),b(t())),()=>{N._init(n(),t())}),z(()=>(s(),b(n())),()=>{S(a,s().filter(c=>c.target===n()))}),Y(),rt();var v=Pt();yt(v,13,()=>m(a),c=>c.id,(c,f)=>{var u=Lt(),_=W(u);It(_,{get item(){return m(f)}}),q(u),tt((y,x)=>{J(u,1,y,"svelte-1dwp7pi"),bt(u,x)},[()=>xt((m(f),B(()=>m(f).classes?.join(" ")))),()=>(m(f),B(()=>i(m(f).theme)))]),R(1,u,()=>wt,()=>m(f).intro),R(2,u,()=>kt),$t(u,()=>At,()=>({duration:200})),$(c,u)}),q(v),$(e,v),et(),l()}var Ft=dt(M(`<script>
    if (document) {
      const prefersColorScheme = window.matchMedia('(prefers-color-scheme: dark)').matches
        ? 'dark'
        : 'light'
      const mode = localStorage.theme || prefersColorScheme
      if (mode === 'dark') {
        document.documentElement.classList.add('dark')
      } else {
        document.documentElement.classList.remove('dark')
      }
    }
  <\/script><!>`,1)),Ht=M("<!> <!> <!>",1);function Qt(e,r){const s={duration:2e3,reversed:!0,intro:{x:-192},dismissable:!1,classes:["custom"]};var p=Ht();Et("12qhfyh",a=>{var i=Ft();D(T(i)),$(a,i)});var l=T(p);St(l,{unstyled:!0,classBg:"fixed top-0 left-0 z-70 w-screen h-screen flex flex-col bg-black/[.7] overflow-y-scroll",closeButton:!1,children:(a,i)=>{var v=Z(),c=T(v);pt(c,()=>r.children??mt),$(a,v)},$$slots:{default:!0}});var t=D(l,2);Ct(t,{});var n=D(t,2);qt(n,{get options(){return s}}),$(e,p)}export{Qt as component};
